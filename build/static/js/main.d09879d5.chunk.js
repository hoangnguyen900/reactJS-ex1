(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/terralogic.47a63680.png"},43:function(e,t,a){e.exports=a(79)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){e.exports=a.p+"static/media/nonUser.ba5d3925.jpg"},79:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),l=a.n(r),i=a(1),c=a(2),s=a(4),m=a(3),u=a(5),p=(a(48),a(49),o.a.Component,a(16)),d=(a(50),a(12)),f=a(10),h=a(20),g=a.n(h),b=a(15),E=a.n(b),v=a(7),N=Object(v.a)(),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),a.setState({isLoading:!0}),console.log(a.state),a.props.onLogin(a.state)},a.onChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.state={email:"",password:"",checkLogin:!1,token:"",isLoading:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({checkLogin:e.login.checkLogin,token:e.login.token,isLoading:e.login.isLoading}),console.log(e)}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isLoading;return this.state.checkLogin&&N.push("/profile"),o.a.createElement("div",{className:"content-right"},o.a.createElement("form",{onSubmit:this.onSubmit,className:"form-info"},o.a.createElement("h1",null,"LOGIN"),o.a.createElement("div",{className:"formField"},o.a.createElement("label",{htmlFor:"email"},"Email"),o.a.createElement("input",{type:"email",id:"email",name:"email",className:"form-input",placeholder:"Enter your email",value:t,onChange:this.onChange})),o.a.createElement("div",{className:"formField"},o.a.createElement("label",{htmlFor:"password"},"Password"),o.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-input",placeholder:"Enter your password",value:a,onChange:this.onChange})),o.a.createElement("div",{className:"formField"},o.a.createElement("button",{type:"submit",className:"btn-login"},o.a.createElement("div",{className:n?"fa fa-spinner fa-spin":""})," LOGIN"),o.a.createElement(d.b,{to:"/signup",className:"link"},"Create an account"),o.a.createElement("div",{className:"title-background-hidden"},o.a.createElement("p",null,"\xa9 2019 Terralogic, Inc")))))}}]),t}(o.a.Component),y=Object(f.b)(function(e){return{login:e.login}},function(e,t){return{onLogin:function(t){e(function(e){return function(t){g()({method:"post",url:"https://terralogic-training.firebaseapp.com/api/login",data:e}).then(function(a){console.log(a),localStorage.setItem("token",a.data.token),localStorage.setItem("email",e.email),t(function(e,t){return{type:"LOGIN_SUCCESS",state:e,token:t}}(e,a.data.token)),E.a.fire({position:"top",type:"success",title:a.data.message,showConfirmButton:!1,timer:1500,heightAuto:!1})}).catch(function(a){t(function(e){return{type:"LOGIN_FAIL",state:e}}(e)),E.a.fire({type:"error",title:"Oops...",text:"Something went wrong! ".concat(a),heightAuto:!1})})}}(t))}}})(w),O=(a(73),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.password;t.confirmPassword!==n?E.a.fire({type:"error",title:"Oops...",text:"Password don't match!!"}):(e.preventDefault(),a.props.onSignUp(a.state))},a.onChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.state={email:"",password:"",confirmPassword:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return o.a.createElement("div",{className:"content-right"},o.a.createElement("form",{onSubmit:this.onSubmit,className:"form-info1"},o.a.createElement("h1",null,"Sign Up"),o.a.createElement("div",{className:"formField"},o.a.createElement("label",null,"Email"),o.a.createElement("input",{type:"email",id:"email",name:"email",className:"form-input",placeholder:"Enter your email",value:t,onChange:this.onChange})),o.a.createElement("div",{className:"formField"},o.a.createElement("label",null,"Password"),o.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-input",placeholder:"Enter your password",value:a,onChange:this.onChange})),o.a.createElement("div",{className:"formField"},o.a.createElement("label",null,"Confirm Password"),o.a.createElement("input",{type:"Password",id:"confirmPassword",name:"confirmPassword",className:"form-input",placeholder:"Confirm your password",value:this.state.confirmPassword,onChange:this.onChange})),o.a.createElement("div",{className:"formField"},o.a.createElement("button",{type:"submit",id:"btnsignUp",name:"btnsignUp",className:"btn-login"},"CONFIRM"),o.a.createElement(d.b,{to:"/",className:"link"},"I'm already member")),o.a.createElement("div",{className:"title-background-hidden"},o.a.createElement("p",null,"\xa9 2019 Terralogic, Inc"))))}}]),t}(o.a.Component)),j=Object(f.b)(null,function(e,t){return{onSignUp:function(t){e(function(e){return function(t){g()({method:"post",url:"https://terralogic-training.firebaseapp.com/api/sign_up",data:e}).then(function(a){console.log(a),t(function(e){return{type:"SIGN_UP_SUCCESS",state:e}}(e)),E.a.fire({position:"top",type:"success",title:a.data.message,showConfirmButton:!1,timer:1500,heightAuto:!1})}).catch(function(a){t(function(e){return{type:"SIGN_UP_FAIL",state:e}}(e)),E.a.fire({type:"error",title:"Oops...",text:a,heightAuto:!1})})}}(t))}}})(O),C=a(17),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={email:"",password:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement("div",{className:"row left"},o.a.createElement("div",{className:"column left"},o.a.createElement("div",{className:"content-left"},o.a.createElement("div",{className:"image-background"},o.a.createElement("img",{src:a(27),className:"picture-background",alt:"background"}),o.a.createElement("div",{className:"title-background"},"We are family"),o.a.createElement("p",null,"\xa9 2019 Terralogic, Inc")))),o.a.createElement("div",{className:"column left"},o.a.createElement(C.a,{exact:!0,path:"/",component:y}),o.a.createElement(C.a,{path:"/signup",component:j}))))}}]),t}(o.a.Component),S=(a(74),a(75),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).confirmLogout=function(){a.props.onLogout(a.props.login.token)},a.state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"p-header"},o.a.createElement("div",{className:"col-sm-3"},o.a.createElement("img",{src:a(27),className:"p-picture-background",alt:"img"})),o.a.createElement("div",{className:"col-sm-1 pull-right"},o.a.createElement("span",{className:"dropdown-toggle p-link","data-toggle":"dropdown"},"PROFILE"),o.a.createElement("ul",{className:"dropdown-menu listItem"},o.a.createElement("li",null,o.a.createElement(d.b,{to:"/profile"},"Profile")),o.a.createElement("li",null,o.a.createElement(d.b,{to:"/",onClick:this.confirmLogout},"Logout"))))))}}]),t}(o.a.Component)),_=Object(f.b)(function(e){return{login:e.login,profile:e.profile}},function(e,t){return{onLogout:function(){var t;e(function(e){g()({method:"post",url:"https://terralogic-training.web.app/api/logout",headers:{"x-user-token":t}}).then(function(e){console.log("Logout",e),localStorage.clear()}).catch(function(e){})})}}})(S),L=(a(76),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("footer",{className:"p-footer"},o.a.createElement("p",null,"\xa9 2019 Terralogic, Inc")))}}]),t}(o.a.Component)),P=(a(77),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.props.login.token;window.confirm("Are you sure you wish to update ?")&&a.props.onUpdateProfile(a.state,t)},a.onChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.fileChangedHandler=function(e){var t=a.props.login.token,n=new FileReader;e.target.files[0]&&(n.readAsDataURL(e.target.files[0]),n.onload=function(e){var o=n.result;a.setState({avatar:o}),a.props.onUpdateProfile(a.state,t)})},a.state={display_name:"",display_info:"",phone:"",avatar:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e?this.props.onShowProfile(e):N.push("/")}},{key:"componentWillReceiveProps",value:function(e){console.log(e.profile);var t=e.profile;this.setState({display_name:t.display_name,display_info:t.display_info,phone:t.phone,avatar:t.avatar})}},{key:"render",value:function(){var e=this,t=this.state,n=t.display_name,r=t.display_info,l=t.phone,i=t.avatar;return o.a.createElement("div",{className:"p-content"},o.a.createElement("form",{className:"p-box",onSubmit:this.onSubmit},o.a.createElement("div",{className:"row m-b-120 p-imgField"},o.a.createElement("img",{src:""!==i?i:a(78),className:"p-picture-avatar rounded",alt:"avatar"}),o.a.createElement("input",{style:{display:"none"},type:"file",onChange:this.fileChangedHandler,ref:function(t){return e.fileInput=t}}),o.a.createElement("i",{className:"fa fa-cog\t",onClick:function(){return e.fileInput.click()}})),o.a.createElement("div",{className:"row  "},o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"p-formField"},o.a.createElement("label",null,"Display Name"),o.a.createElement("input",{type:"text",id:"display_name",name:"display_name",className:"p-form-input",value:n,onChange:this.onChange,placeholder:"Your name"}))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"p-formField"},o.a.createElement("label",null,"Display Info"),o.a.createElement("input",{type:"text",id:"display_info",name:"display_info",className:"p-form-input",value:r,onChange:this.onChange,placeholder:"Your info"}))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"p-formField"},o.a.createElement("label",null,"Email"),o.a.createElement("input",{type:"email",id:"email",name:"email",className:"p-form-input",value:this.props.login.email?this.props.login.email:localStorage.getItem("email"),onChange:this.onChange,placeholder:"Your email"}))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"p-formField"},o.a.createElement("label",null,"Phone Number"),o.a.createElement("input",{type:"text",id:"phone",name:"phone",className:"p-form-input",value:l,onChange:this.onChange,placeholder:"Phone Number"}))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"p-formField"},o.a.createElement("label",null,"New Password"),o.a.createElement("input",{type:"password",id:"password",name:"password",className:"p-form-input",onChange:this.onChange,placeholder:"Password"}))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"p-formField"},o.a.createElement("label",null,"Confirm Password"),o.a.createElement("input",{type:"password",id:"confirm",name:"confirm",className:"p-form-input",onChange:this.onChange,placeholder:"Confirm password"})))),o.a.createElement("div",{className:"row "},o.a.createElement("button",{className:"p-btn-form-submit",type:"submit"},"Update profile"))))}}]),t}(o.a.Component)),I=Object(f.b)(function(e){return{login:e.login,profile:e.profile}},function(e,t){return{onShowProfile:function(t){e(function(e){return function(t){g()({method:"post",url:"https://terralogic-training.firebaseapp.com/api/get_profile",headers:{"x-user-token":e}}).then(function(e){console.log(e),t({type:"SHOW_PROFILE",state:e.data.data})}).catch(function(e){})}}(t))},onUpdateProfile:function(t,a){e(function(e,t){return function(a){g()({method:"post",url:"https://terralogic-training.firebaseapp.com/api/set_profile",headers:{"x-user-token":t},data:e}).then(function(e){console.log(e),a({type:"UPDATE_PROFILE",state:e.data.data}),E.a.fire({position:"top",type:"success",title:e.data.message,showConfirmButton:!1,timer:1500})}).catch(function(e){E.a.fire({type:"error",title:"Oops...",text:"Something went wrong!!!"})})}}(t,a))}}})(P),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_,null),o.a.createElement(I,null),o.a.createElement(L,null))}}]),t}(o.a.Component),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(C.b,{history:N},o.a.createElement(C.a,{exact:!0,path:"/",component:k}),o.a.createElement(C.a,{path:"/profile",component:F}))}}]),t}(o.a.Component),x=Object(f.b)(null,null)(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=a(19),D=a(18),G={email:"",password:"",checkLogin:!1,token:"",isLoading:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return e.email=t.state.email,e.password=t.state.password,e.checkLogin=!0,e.token=t.token,Object(D.a)({},e);case"LOGIN_FAIL":case"SIGN_UP_SUCCESS":case"SIGN_UP_FAIL":return Object(D.a)({},e);default:return e}},W={display_name:"",display_info:"",phone:"",avatar:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_PROFILE":return console.log("dataProfile: ",t.state),Object(D.a)({},e,{display_name:t.state.display_name,display_info:t.state.display_info,phone:t.state.phone,avatar:t.state.avatar});case"UPDATE_PROFILE":return console.log("dataProfileUpdate: ",t.state),Object(D.a)({},t.state);default:return e}},B=Object(A.c)({login:R,profile:T}),H=a(42),Y=Object(A.d)(B,Object(A.a)(H.a));l.a.render(o.a.createElement(f.a,{store:Y},o.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.d09879d5.chunk.js.map